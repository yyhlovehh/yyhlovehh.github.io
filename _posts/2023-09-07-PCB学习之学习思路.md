# PCB学习

## 1.学习思路

1.学什么？

我要用AD软件做电子设计，包含原理图和布线。

- 软件：AD
- 电子设计：原理图库+原理图绘制、PCB的布局布线

2.怎么学？

软件怎么学？每天八个操作，设置快捷键练50遍。坚持半个月

设计怎么学？先全部看完，看一遍，主要了解设计流程，第二遍边看边练习，第三遍可以对比式学习。

## 2.AD工程组成和创建

## ![工程](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309080046564.png)

**首先新建PCB工程（项目）**，之后新建原理图库、原理图、PCB库、PCB保存在一起，工程里就会包含四个文件。

## 3.元件库（元件模型的创建）

#### 3.1电阻容模型

放置管脚，栅格设置最小为100mil,命名，注意方向，一边有4个孔，与导线相连。

可以隐藏名字。

修改大小可以设置栅格大小。

**对齐在AD编辑栏目里面**

**快捷键：**

- 按住shift+拖动，可以直接放置第二个管脚。
- ？按住鼠标中间拉动可放大和缩小。？ctrl+鼠标滚轮
- 设置栅格大小：VGS

#### 3.2IC类元件模型创建

IC:就是集成电路芯片。

电器符号designator:U?

**快捷键：**

- 空格键旋转管脚方向
- 全框选+M+S：整体移动
- 对齐A
- 自定义快捷键：按住ctrl+点击，在可选的里面设置
- 镜像：在粘贴时按Y
- ctrl+方向键

管脚名字文字可以变更。

**在名字前面可以加\会对名字加上划杠。**

#### 3.3排针类模型创建

采用阵列粘贴。

电器符号designator:J?

#### 3.4光耦元件和二极管创建

二极管：三角形用多边形命令

designator:D?

光耦：

designator:U?

#### 3.5.现有元件模型的调用

通过别人的原理图，在设计菜单中生成原理图库，即生成元件模型。然后复制粘贴到自己的元件库。

## 4.原理图绘制

#### 4.1元件的放置

在panels选择Components。

#### 4.2器件的放置和对齐

快捷键：

- 右键拖动图纸
- backspace:撤销

#### 4.3导线及NetLabel的添加

#### 4.4Value值的核对

#### 4.5封装的统一管理

#### 4.6原理图的编译设置和检查

Duplicate Part :器件尾号重复

Floating net labels:网络标记悬浮

Floating power objects:

Nets with only one pin:单端网络，高亮，没有连接到任何地方去，不一定有问题，需要确认这里应不应该是

通用符号：不加任何东西

## 5.PCB封装库的创建方法及现有封装调用

PCB封装是我们电子设计图纸和实物之间的映射体，具有精确数据的要求。

PCB层的含义？通孔？导通作用的空，连接不同面。表贴？表面焊接贴合。

#### 5.1常见的CHIP封装的创建

包含电阻容、SOT、二极管。

![焊盘](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309082228597.png)

**阻焊：防止铜被绿油覆盖焊盘。阻焊要比焊盘大一点点。**

中间是散热焊盘。

**距离：最外比最大值大，最小比最小值还要小。**

快捷键：

- ctrl+M测距离

- shift+C取消测量标注

- #### shift+空格 切换直角

- Q:切换单位

- shift+C：中心

#### 5.2常见IC类封装（SOP-8）

designator：管脚号

特殊粘贴：阵列粘贴

#### 5.3利用IPC封装创建向导快速创建封装

#### 5.4常用PCB的直接调用

设计中生成PCB库，把所有封装创建出来。

百度搜索PCB超级库，可以下载直接用。

#### 5.5PCB封装3D模型的创建和导入

## 6.网表导入及模块化布局设计

#### 6.1导入常见报错及解决办法

unkown pin:没有封装；封装管脚缺失；管脚号不匹配

#### 6.2绿色报错的消除

是设计规则的原因，违背规则，关闭规则报错。

#### 6.3PCB板框的评估及叠层设置

板框评估：选择全部器件，进行矩形排列，然后取整数。

2层与4层：

- 4层成本贵；
- 设计角度2层难度大，4层有地层与电源层，在表层走信号线难度降低；
- 4层信号质量；

层叠管理器

**负片层与正片层区别：**

正片层：走一根线就是铜；

负片层：走一根线就是没铜，与正片层完全相反。

#### 6.4PCB快捷键的设置与推荐

设置快捷键：ctrl+点击

#### 6.5模块化布局规划

在原理图中打开交互选择模式。

**思路**：把整体区分为各个功能单元，把所有的器件通过快捷键摆放在一个区域，然后再把相对应的电源走线关闭，只剩下信号线查看信号流向，再进行详细的信号布局。

#### 6.6实战演习（把器件做一个预布局）

**飞线是什么？**

飞线（英语：Jump wire）也称跳线，是指印刷电路板上因设计缺陷、测试目的或是其他设计考量，将电路板上的两个节点直接用电线连通的一种方法，它主要来自于设计者生活中长期积累的经验，并衍生出来的产物。它是用一根具有具有电子特性的导线从元器件的一头连接到元器件的另一头，取代了主板中的走线。

 起源：对于设计复杂的印刷电路板，有时候会因为疏忽或其他原因导致某一两根关键信号线没有被连接或是忘记接地。因为发现此问题时电路板大多已经投产，为节省时间或者降低再生产的成本，可能会选择将导线焊接在需要连接的两点之间作为变通措施。

应用：飞线就是直接用焊接台和普通的线去焊接主板的PCB的各类电子元器件的接触点，正常的PCB板连接线一般都直接印刷好了，但是在使用的过程中有可能倒置排线折断，这样就需要直接飞线去维修，或者有些功能被屏蔽了也能通过飞线去解禁原有被屏蔽的功能，但是飞线的稳定性肯定不如原有的排线好。

数字电源和模拟电源区别？

#### 6.7布局优化及调整

## 7.PCB设计规则及PCB手工布线

#### 7.1Class、设计参数、规则的创建

**DRC:规则检查**

Class:区分哪些是电源，哪些是信号线？

- 间距规则（Electrical-Clearance）：6>X>4 常规生产成本，4>X成本高


- 线宽规则（Routing-Width）:信号线宽尽量大于6mil,**电源线要加粗**；可以自己设置规则，注意设置优先级，同时也要打开使能（对号）。


- 过孔规则（Routing-Via-Style）:2*H+-2mil(H：孔径)，例如H=10,盘可以为18，20，22，一般选择最小，为了走线方便。推荐盖油。tented


- 铺铜规则（Plane）:

power plane:内电层的连接方式

powerclearance:反片设置，推荐设置8mil

polygon Connect:正片设置，为信号走线，手工焊接推荐为十字连接。如果全连接，即铜和焊盘全连接，铜的导热非常好，散热太快会造成虚焊。如果考虑载流，用全连接。回流焊也采用全连接。

焊盘一般采用十字连接，过孔采用全连接。

#### 7.2扇空的处理及敷铜插件的应用

扇孔：尽量先打好孔，再走线，注意避险；

打孔占位，减少回流路径。比如GND孔，就近扇孔可以做到缩短路径的目的！预先打孔是为了防止不打孔，后面走线的时候很密集无法打孔下去，绕很远连一根GND线，就有很长的回流路径了。

这种做高速PCB设计及多层PCB设计的时候经常遇到。预先打孔后面可以删除很方便，反之，等你走线完了再想去加一个打孔就很难，这时候你通常的想法是随便找根线连上便是，不能考虑到信号的SI,不太符合规范的做法。

对于电源与地，短线可以直接走线连接，长线就可以打孔连接到电源层与地层。

**为什么要敷铜？**

铺铜就相当于最粗的导线！！导线越粗，电阻越小；同时铜的散热好；并且有抗干扰作用。走线时，有些线因为有其他器件过不去可以采用灌铜实现自动避让。

**走线和敷铜的本质是一样的。**一般走线20mil过1A的电流。

**过孔是什么？**就是打孔吗？

#### 7.3信号线走线

走线越长，受到的干扰越多，对于信号走线，能少打孔就少打孔。

顶层和底层都可以走线？区别在哪里？

#### 7.4电源线走线

就近打孔就可连接电源层。

#### 7.5信号线的优化和GND的处理

修线使距离间距差不多。

线长接近，才能避免信号的相位差。

不要走边缘，走中间。

**3W原则：**

## 8.DRC检查

unrouted  net contrain:

1.有过孔的地方删掉过孔

2.里面有短路的走线

3.删掉铺铜，用走线代替



丝印：

不要上阻焊，否则文字会缺失

移动丝印时联合，可以按MS解决。

## 9.实践过程

- 原理图高亮：alt按住+点击

- 选中丝印：string的锁不能关闭

- 切换单层显示：shift+S（铺铜时要用，看效果）

- 复制：复制后先点击参考点，再ctrl+V

- **AD中不是电源和地的部分，打过孔之后连接到最底层，在最底层走线？**

- **拉线后按住ctrl,点击后竟然自动走线？**

- 可以两个线一起走！

- 双击可以给负片层添加网络！

- 按住ctrl进行修线！

- EA特殊粘贴

- shift+Tab：选重叠的元素

  