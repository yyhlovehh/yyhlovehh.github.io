# CAN通信

## 1.CAN基础知识介绍

### 1.1.什么是CAN?

![jie_jian](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241153875.png)

![2](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241157016.png)

### 1.2.CAN总线特点

![3](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241158113.png)

### 1.3.CAN物理层

![4](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241159549.png)

线与的关系：全1为1，有0为0，因此0为显性，1为隐性。对应，电压有2则为2，全0V才为0V，对应2V为显性逻辑0，0V为隐性逻辑1。

![5](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241207805.png)

### 1.4.CAN协议层

![6](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241211573.png)

![7](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241213265.png)

### 1.5.CAN位时序

![8](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241220300.png)

默认为隐性信号，逻辑1，节点理解为不同的设备节点，当一台主机设备发送帧起始信号时，节点设备会检测总线上的跳变是否在SS端内以达到同步。

### 1.6.数据同步

![9](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241226958.png)

![10](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241233751.png)

### 1.7.总线仲裁

![11](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241236050.png)

## 2.STM32CAN控制器介绍

### 2.1CAN控制器介绍

![12](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241244397.png)

### 2.2CAN控制器模式

![13](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241249152.png)

![14](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241252110.png)

### 2.3CAN控制器的框图

![15](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241303635.png)

FIFO:是一种先进先出的数据缓冲器。

![16](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241306954.png)

![17](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241311980.png)

![18](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241315232.png)

![19](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241315148.png)

### 2.4CAN位时序

![20](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241320517.png)



![21](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241430948.png)

![23](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241450277.png)

![24](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241450834.png)

![25](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202311241453633.png)