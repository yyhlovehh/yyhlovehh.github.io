# 匿名上位机学习笔记

## 1.上位机简介

1.1.安全通信协议

必须收到反馈才会停止发送。

1.2.灵活格式帧 

用户定义自己的帧格式，F1~FA。

1.3.功能触发类帧

要收到下位机的返回校验帧才停止发送。

1.4.用户可以在单片机上写好程序，自己定义命令格式与单片机通信。

![上位机1](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309041010069.png)

1.5.参数读写类帧

1.6通信帧格式

![匿名2](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309041058405.png)

## 2.从0开始写匿名协议发送源码

B站有教程

## 3.细节分析

### 3.1数据显示错位

![匿名_3](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309041135249.png)

右上角帧数据配置要与发送数据格式相一致，否则出现输出错位。

### 3.2注意事项

- **发送串口函数使用的话只能在main()函数里的while()循环里使用，在中断里使用会影响整体程序运行。**
- **如果在main()函数里以很高的频率发送数据，串口的波特率必须设置高，否则不支持这么快的发送数据。**

## 4.波形显示

### 4.1快捷打开方式

## ![匿名5](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309041144277.png)

### 4.2波形显示界面

![匿名6](https://raw.githubusercontent.com/yyhlovehh/yyhlovehh.github.io/master/202309041149854.png)

### 4.3快捷功能

- 点住鼠标左键往右下托为放大，往左上位缩小；
- 点住鼠标右键可以拖动图像；
- 显示坐标值：按住ctrl+点击波形